namespace SpriteKind {
    export const obj = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    controller.moveSprite(jogador, 140, 140)
    tiles.setTileAt(location, sprites.castle.tileDarkGrass3)
    animation.runImageAnimation(
    jogador,
    [img`
        .............fff555.............
        ............f777775f............
        ..5.........f7777775............
        ..5.........f722722f5...........
        55.55.......f722722f5...........
        ..5.........f777777f............
        ..5.........f777777f............
        .............ffffff.............
        .........ffffffff1f.............
        ........f111111111ff............
        ........ff1111111111f...5.......
        .........f111111111f....5.......
        .........fffffffffff..55.55.....
        ........f66666266666f...5.......
        ........f66662626666f...5.......
        .....ff..f662666266f..ffff......
        ....fddf.ffffffffff..ffddf......
        ....fddf.fddddddddf.fefddf......
        .....ff6ffddfddfddfffefddf......
        .....f66f.fddddddff99f6ff.......
        .....f66f.ffddddff99f66f........
        ......f66f66ffff66ff66f.........
        .......f666f1111f6666f..........
        ........fff111116ffff...........
        ..........f111166f9f............
        ..........f166666ff.............
        ...........f6666f...............
        ...........f6666f...............
        ..........ffffffff..............
        ..........f9f..f9f..............
        .........f99f..f99f.............
        ........ffff....ffff............
        `],
    2000,
    false
    )
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile1`, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`myTile2`)
    item = itens._pickRandom()
    lootBarril()
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 3
    animation.runImageAnimation(
    jogador,
    [img`
        ................................
        ................................
        ................................
        .............f..................
        ............f1ffffffff..........
        ...........ff111111111f.........
        ..........f1111111111ff.........
        ...........f111111111f..........
        ...........fffffffffff..........
        ..........f66666666666f.........
        ..........f66666666666f.........
        ......ff...f666666666f..........
        ......fff...ffffffffff..........
        ......ff.f..fddddddddf..........
        ......fef.f.fddddddddf..........
        ......feef.f.fddddddf...........
        .......feef.fffddddff...........
        ........feeff66ffff66f..........
        .........fff66f1116f66ff........
        .........fddff111166ffddf.......
        .........fddff111166ffddf.......
        ..........ffff116666f.ff........
        ...........ff.f6666f............
        .............ff6666f............
        .............ffffffff...........
        .............fff..f9f...........
        ............ffff..f99f..........
        ..........fffff....ffff.........
        ............f...................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ..............f.................
        .............f1ffffffff.........
        ............ff111111111f........
        ...........f1111111111ff........
        ............f111111111f.........
        ............f111111111f.........
        ...........f11111111111f........
        ...........f11111111111f........
        ............fffffffffff.........
        .............f66666666f.........
        .............f66666666f.........
        ..............ffffffff..........
        ......ff......fddddddf..........
        ......f.f.....ffddddff..........
        ......ff.f...f66ffff66f.........
        ......fef.f.f66f1111f66ff.......
        ......feef.ffff611111ffddf......
        .......feeffdff661111ffddf......
        ........fefdddf666661f.ff.......
        .........ffddf.f6666f...........
        ..........fffeff6666f...........
        ............ffffffffff..........
        ..............fff..fff..........
        .............f99f..ffff.........
        .............f9f....ffff........
        ............ffff.....f..........
        ................................
        ................................
        ................................
        ................................
        `],
    200,
    true
    )
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (jogador.tileKindAt(TileDirection.Top, sprites.dungeon.greenSwitchUp)) {
        tiles.setTileAt(jogador.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), sprites.dungeon.greenSwitchDown)
        tiles.setTileAt(tiles.getTileLocation(11, 6), sprites.dungeon.darkGroundCenter)
        tiles.setTileAt(tiles.getTileLocation(11, 7), sprites.dungeon.darkGroundCenter)
        tiles.setTileAt(tiles.getTileLocation(11, 8), sprites.dungeon.darkGroundCenter)
        tiles.setWallAt(tiles.getTileLocation(11, 6), false)
        tiles.setWallAt(tiles.getTileLocation(11, 7), false)
        tiles.setWallAt(tiles.getTileLocation(11, 8), false)
    }
})
function direçaoTiros () {
    if (direçãotiro == 1) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ........ff......................
            .......f22f.....................
            ........ff2f.......f............
            ........fffffffffff1f...........
            .......f222eeeeeeee11ff.........
            ........fffffffffff1f...........
            ........ff2f.......f............
            .......f22f.....................
            ........ff......................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, jogador, 150, 0)
    } else if (direçãotiro == 2) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ....................ff..........
            ...................f22f.........
            ..........f.......f2ff..........
            .........f1fffffffffff..........
            .......ff11eeeeeeee222f.........
            .........f1fffffffffff..........
            ..........f.......f2ff..........
            ...................f22f.........
            ....................ff..........
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, jogador, -150, 0)
    } else if (direçãotiro == 3) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................f...............
            ................f...............
            ...............f1f..............
            ..............f111f.............
            ...............fef..............
            ...............fef..............
            ...............fef..............
            ...............fef..............
            ...............fef..............
            ...............fef..............
            ...............fef..............
            ..............ffeff.............
            .............f2f2f2f............
            ............f2ff2ff2f...........
            ............f2ff2ff2f...........
            .............f..f..f............
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, jogador, 0, -150)
    } else if (direçãotiro == 4) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ...........f..f..f..............
            ..........f2ff2ff2f.............
            ..........f2ff2ff2f.............
            ...........f2f2f2f..............
            ............ffeff...............
            .............fef................
            .............fef................
            .............fef................
            .............fef................
            .............fef................
            .............fef................
            .............fef................
            ............f111f...............
            .............f1f................
            ..............f.................
            ..............f.................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, jogador, 0, 150)
    } else {
    	
    }
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    direçaoTiros()
})
function chamainimigo () {
	
}
controller.anyButton.onEvent(ControllerButtonEvent.Released, function () {
    animation.stopAnimation(animation.AnimationTypes.All, jogador)
})
function direçaoMissil () {
    if (direçãotiro == 1) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ...........ff...................
            ..........f22ff.................
            ...........ff22ffff.............
            .........444f111122f............
            .......4455f11111122f...........
            .....444555f111111222f..........
            .....4555f222211112222f.........
            ......4455ff111111222f..........
            .......4455f11111122f...........
            ........4444f111122f............
            ...........ff22ffff.............
            ..........f22fff................
            ...........ff...................
            ................................
            ................................
            `, jogador, 200, 0)
    } else if (direçãotiro == 2) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ..................ff............
            ...............fff22f...........
            ............ffff22ff............
            ...........f221111f4444.........
            ..........f22111111f5544........
            .........f222111111ff5544.......
            ........f222211112222f5554......
            .........f222111111f555444......
            ..........f22111111f5544........
            ...........f221111f444..........
            ............ffff22ff............
            ................ff22f...........
            ..................ff............
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, jogador, -200, 0)
    } else if (direçãotiro == 3) {
        projectile = sprites.createProjectileFromSprite(img`
            .......f........
            ......f2f.......
            .....f222f......
            ....f22222f.....
            ...f2222222f....
            ...f2111112f....
            ...f1111111f....
            ...f1111111ff...
            ..f211111112f...
            ..f211121112f...
            .f2ff11211ff2f..
            .f2f4ff2ff4f2f..
            ..f.4552f54.f...
            ....455f554.....
            .....455544.....
            .....44544......
            ......454.......
            ......44........
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            `, jogador, 0, -200)
    } else if (direçãotiro == 4) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ...............44...............
            ..............454...............
            .............44544..............
            ............445554..............
            ............455f554.............
            ..........f.45f2554.f...........
            .........f2f4ff2ff4f2f..........
            .........f2ff11211ff2f..........
            ..........f211121112f...........
            ..........f211111112f...........
            ..........ff1111111f............
            ...........f1111111f............
            ...........f2111112f............
            ...........f2222222f............
            ............f22222f.............
            .............f222f..............
            ..............f2f...............
            ...............f................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, jogador, 0, 200)
    } else {
    	
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 2
    animation.runImageAnimation(
    jogador,
    [img`
        ................................
        ................................
        ................................
        ..................f.............
        ..............f.fffffff.........
        .............f1f111111f.........
        .............f11111111ff........
        .............f111111111f........
        ............f11f1111111f........
        ............f1f6fffffff.........
        ............f1f62666666f........
        ............f1ff6266666f........
        ..........f..f.fffffffff........
        .........fef...fdddddddf........
        ........feff...fdfddddf.........
        ........feff...fdddddf..........
        .......fefef....fffff...........
        .......feefff...f66f1f..........
        ......fddd66ffffff66f1f.........
        ......fddd666666f6f66ff.........
        .......feffffffff11f6fff........
        ........ff.f....1f6ffddf........
        ........feff...ffffffddf........
        .........fef....f9ff9ff.........
        ..........f....f99ff999f........
        ..............ffff..fff.........
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................f...............
        ............f.fffffff...........
        ...........f1f111111f...........
        ...........f11111111ff..........
        ...........f111111111f..........
        ..........f11f1111111f..........
        ..........f1f6fffffff...........
        ..........f1f62666666f..........
        ..........f1ff6266666f..........
        ...........f.fffffffff..........
        .............fdddddddf..........
        .............fdfddddf...........
        ......f......fdddddf............
        .....f.f.....fffffff............
        .....ff.f...f6f1166ff...........
        .....fef.f.f66f1666f6f..........
        .....feef.f66ff6666f66f.........
        ......feef66f.f6666ff66f........
        .......fddfff.f6666f66f.........
        ........fdefef.fffff6f..........
        .........fefeeffff99f...........
        ..........ffff99ff999f..........
        ............ffff..fff...........
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    200,
    true
    )
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairWest, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level17`)
    tiles.placeOnRandomTile(jogador, sprites.builtin.forestTiles10)
})
function lootBarril () {
    if (item == " comida") {
        info.changeLifeBy(1)
        game.showLongText("Você encontrou" + " comida, sua vida aumentou em um!", DialogLayout.Bottom)
    } else if (item == " pulgas") {
        game.showLongText("Você encontrou" + " pulgas, sua velocidade diminuiu!", DialogLayout.Bottom)
        controller.moveSprite(jogador, 70, 70)
    } else {
    	
    }
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.chestClosed, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`myTile2`)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 1
    animation.runImageAnimation(
    jogador,
    [img`
        ................................
        ................................
        ...............f................
        ...........fffffff.f............
        ...........f111111f1f...........
        ..........ff11111111f...........
        ..........f111111111f...........
        ..........f1111111f11f..........
        ...........fffffff6f1f..........
        ..........f66666626f1f..........
        ..........f6666626ff1f..........
        ..........fffffffff.f..f........
        ..........fdddddddf...fef.......
        ...........fddddfdf...ffef......
        ............fdddddf...ffef......
        .............fffff....fefef.....
        ............f1f66f...fffeef.....
        ...........f1f66ffffff66dddf....
        ...........ff66f6f666666dddf....
        ..........fff6f11ffffffffef.....
        ..........fddff6f1....f.ff......
        ..........fddffffff...ffef......
        ...........ff9ff9f....fef.......
        ..........f999ff99f....f........
        ...........fff..ffff............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ...............f................
        ...........fffffff.f............
        ...........f111111f1f...........
        ..........ff11111111f...........
        ..........f111111111f...........
        ..........f1111111f11f..........
        ...........fffffff6f1f..........
        ..........f66666626f1f..........
        ..........f6666626ff1f..........
        ..........fffffffff.f...........
        ..........fdddddddf.............
        ...........fddddfdf.............
        ............fdddddf......f......
        ............fffffff.....f.f.....
        ...........ff6611f6f...f.ff.....
        ..........f6f6661f66f.f.fef.....
        .........f66f6666ff66f.feef.....
        ........f66ff6666f.f66feef......
        .........f66f6666f.fffddf.......
        ..........f6fffff.fefedf........
        ...........f99ffffeefef.........
        ..........f999ff99ffff..........
        ...........fff..ffff............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    200,
    true
    )
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 4
    animation.runImageAnimation(
    jogador,
    [img`
        ................................
        ................................
        ...................f............
        ...........ffffffff1f...........
        ..........f111111111ff..........
        ..........ff1111111111f.........
        ...........f111111111f..........
        ...........fffffffffff..........
        ..........f66666266666f.........
        ..........f66662626666f.........
        ...........f662666266f...ff.....
        ...........ffffffffff...fff.....
        ...........fddddddddf..f.ff.....
        ...........fddfddfddf.f.fef.....
        ............fddddddf.f.feef.....
        ............ffddddfff.feef......
        ...........f66ffff66ffeef.......
        .........ff66f1111f66fff........
        ........fddff111116ffddf........
        ........fddff111166ffddf........
        .........ff.f166666ffff.........
        .............f6666f.ff..........
        .............f6666ff............
        ............ffffffff............
        ............fff..f9f............
        ...........ffff..f99f...........
        ..........ffff....ffff..........
        ............f...................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ..................f.............
        ..........ffffffff1f............
        .........f111111111ff...........
        .........ff1111111111f..........
        ..........f111111111f...........
        ..........fffffffffff...........
        .........f66666266666f..........
        .........f66662626666f..........
        ..........f662666266f...........
        ..........ffffffffff............
        ..........fddddddddf............
        ..........fddfddfddf.....f......
        ...........fddddddf.....f.f.....
        ...........ffddddff.......ff....
        ..........f66ffff66f...f.fef....
        ........ff66f1111f66f.f..fef....
        .......fddff111116ffff..fef.....
        .......fddff111166ffdf.feef.....
        ........ff.f166666fdddfeef......
        ............f6666f.fddfef.......
        ............f6666f..ffff........
        ...........fffffffffeef.........
        ...........f9f..fffeff..........
        ..........f99f..ffff............
        .........ffff....fff............
        ..................f.............
        ................................
        ................................
        ................................
        `],
    200,
    true
    )
})
function mudardefase (novaFase: number) {
    let novafase = 0
    fase = novafase
    tiles.setCurrentTilemap(mapas[fase - 1])
    tiles.placeOnRandomTile(jogador, sprites.dungeon.collectibleInsignia)
}
let projectile: Sprite = null
let direçãotiro = 0
let item = ""
let itens: string[] = []
let jogador: Sprite = null
let fase = 0
let mapas: tiles.TileMapData[] = []
mapas = [tilemap`level11`, tilemap`level17`]
fase = 1
jogador = sprites.create(img`
    ................................
    ................................
    ................................
    ...................f............
    ...........ffffffff1f...........
    ..........f111111111ff..........
    ..........ff1111111111f.........
    ...........f111111111f..........
    ...........fffffffffff..........
    ..........f66666266666f.........
    ..........f66662626666f.........
    ...........f662666266f...ff.....
    ...........ffffffffff...fff.....
    ...........fddddddddf..f.ff.....
    ...........fddfddfddf.f.fef.....
    ............fddddddf.f.feef.....
    ............ffddddfff.feef......
    ...........f66ffff66ffeef.......
    .........ff66f1111f66fff........
    ........fddff111116ffddf........
    ........fddff111166ffddf........
    .........ff.f166666ffff.........
    .............f6666f.ff..........
    .............f6666ff............
    ............ffffffff............
    ............f9f..f9f............
    ...........f99f..f99f...........
    ..........ffff....ffff..........
    ................................
    ................................
    ................................
    ................................
    `, SpriteKind.Player)
controller.moveSprite(jogador)
jogador.setVelocity(50, 50)
scene.cameraFollowSprite(jogador)
itens = [" comida", " pulgas"]
tiles.setCurrentTilemap(tilemap`level11`)
info.setLife(3)
let mySprite2 = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    .................f..............
    .................f..............
    ................f1f.............
    ..............ff111ff...........
    ...........fff111111fff.........
    ..........f111111111111f........
    ..........f1111111111111f.......
    ..........f1111111111111f.......
    .........f11111111111111f.......
    ........f11111111111111f........
    ........ffffffffffffffff........
    .........f3323333333233f........
    ........f333322333223333f.......
    ........f333332232233333f.......
    .........f33333333333333f.......
    ..........f333333333333f........
    .........f6ff3333ffffff.........
    .........f667ffff77777ff........
    ..fff..ff66777777777777f........
    ...fffff777777777777777ff.......
    ....f7777777777777777777f.......
    ....ff7777777ff777777777ff......
    ......fffffffff777ff77777ff.....
    ............ff6777fff77776ff....
    ...........ff66777f.ff77766ffff.
    .........fff66677ff..ff7766666f.
    ........ffffffffff.....fffffff..
    ................................
    `, SpriteKind.Enemy)
mySprite2.setPosition(randint(0, 16), randint(0, 16))
mySprite2.setVelocity(5, 5)
mySprite2.follow(jogador)
