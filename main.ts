namespace SpriteKind {
    export const obj = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    controller.moveSprite(mySprite, 140, 140)
    tiles.setTileAt(location, sprites.castle.tileDarkGrass3)
    animation.runImageAnimation(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        .......5........................
        .......5....ffff55..............
        .....55.55.f7666775.............
        .......5...f776667f5............
        .......5...f722722f5............
        ...........f722722f.............
        ...........f777777f....5........
        ...........f777777f....5........
        ...........f777777f..55.55......
        ............ffffff.....5........
        ..............ee.......5........
        .............eeee....d..........
        ........d.e.ee55ee.e.8..........
        ........8.eeeeeeeeee.8..........
        ........8..ddfddfdd..8..........
        ........8..ddf22fdd..8..........
        .........8.d222222d.8...........
        ..........8222222228............
        ...........88888888.............
        ............888888..............
        ............888888..............
        ............88..88..............
        ............88..88..............
        ...........fff..fff.............
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............ee...............
        ..............eeee..............
        ...........e.ee55ee.e...........
        ...........eeeeeeeeee...........
        ............ddfddfdd............
        ............ddf22fdd............
        ............d222222d............
        ...........8222222228...........
        ...........8888888888...........
        ...........8.888888.8...........
        ...........d.888888.d...........
        .............88..88.............
        .............88..88.............
        ............fff..fff............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    2000,
    false
    )
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 3
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        ................
        ................
        ......f.........
        .....f2f........
        ....f222f.......
        ...f22222f......
        ..f2222222f.....
        ..f2111112f.....
        ..f1111111f.....
        ..f1111111ff....
        .f211111112f....
        .f211121112f....
        f2ff11211ff2f...
        f2f4ff2ff4f2f...
        .f.4552f54.f....
        ...455f554......
        ....455544......
        ....44544.......
        .....454........
        .....44.........
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        `, mySprite, 0, -80)
    animation.runImageAnimation(
    projectile,
    [img`
        ................
        ......f.........
        .....f2f........
        ....f222f.......
        ...f22222f......
        ..f2222222f.....
        ..f2111112f.....
        ..f1111111f.....
        ..f1111111ff....
        .f211111112f....
        .f211121112f....
        f2ff11211ff2f...
        f2f4ff2ff4f2f...
        .f.4552f54.f....
        ...455f554......
        ....455544......
        ....44544.......
        .....454........
        .....44.........
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        `,img`
        ................
        ......f.........
        .....f2f........
        ....f222f.......
        ...f22222f......
        ..f2222222f.....
        ..f2111112f.....
        ..f1111111f.....
        ..f1111111ff....
        .f211111112f....
        .f211121112f....
        f2ff11211ff2f...
        f2f4ff2ff4f2f...
        .f.4552f54.f....
        ...455f5544.....
        ....455554......
        ....45554.......
        .....4444.......
        .......4........
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        `,img`
        ................
        ......f.........
        .....f2f........
        ....f222f.......
        ...f22222f......
        ..f2222222f.....
        ..f2111112f.....
        ..f1111111f.....
        ..f1111111ff....
        .f211111112f....
        .f211121112f....
        f2ff11211ff2f...
        f2f4ff2ff4f2f...
        .f.4552f54.f....
        ...455f554......
        ...4555554......
        ....45554.......
        ....45544.......
        .....44.........
        .....44.........
        ......4.........
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        `,img`
        ................
        ......f.........
        .....f2f........
        ....f222f.......
        ...f22222f......
        ..f2222222f.....
        ..f2111112f.....
        ..f1111111f.....
        ..f1111111ff....
        .f211111112f....
        .f211121112f....
        f2ff11211ff2f...
        f2f4ff2ff4f2f...
        .f.45f2f54.f....
        ...455f554......
        ....455544......
        ....45544.......
        .....44.........
        ......4.........
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        `],
    100,
    true
    )
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (direçãotiro == 1) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . f f f f f f f . . . . . . . 
            . . f 5 5 5 5 5 4 f . . . . . . 
            . . f 5 5 5 5 4 4 4 f . . . . . 
            . . f 5 5 5 5 4 4 4 f . . . . . 
            . . f 5 5 5 5 5 4 f . . . . . . 
            . . f f f f f f f . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 150, 0)
    } else if (direçãotiro == 2) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . f f f f f f f . . 
            . . . . . . f 4 5 5 5 5 5 f . . 
            . . . . . f 4 4 4 5 5 5 5 f . . 
            . . . . . f 4 4 4 5 5 5 5 f . . 
            . . . . . . f 4 5 5 5 5 5 f . . 
            . . . . . . . f f f f f f f . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, -150, 0)
    } else if (direçãotiro == 3) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . f f . . . . . . . . 
            . . . . . f 4 4 f . . . . . . . 
            . . . . f 4 4 4 4 f . . . . . . 
            . . . . f 5 4 4 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 0, -150)
    } else if (direçãotiro == 4) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 5 5 5 f . . . . . . 
            . . . . f 5 4 4 5 f . . . . . . 
            . . . . f 4 4 4 4 f . . . . . . 
            . . . . . f 4 4 f . . . . . . . 
            . . . . . . f f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 0, 150)
    } else {
    	
    }
})
controller.down.onEvent(ControllerButtonEvent.Released, function () {
    direçãotiro = 4
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 2
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    direçãotiro = 1
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(mySprite2, effects.fire, 500)
    numero = randint(0, 10)
    if (numero > 5) {
        sprites.destroy(mySprite2)
        animation.runImageAnimation(
        mySprite,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . 4 4 4 4 4 4 4 4 4 . . . . 
            . 4 4 4 5 5 5 5 5 5 5 5 4 4 . . 
            . 4 5 5 5 5 5 5 5 5 5 5 5 5 4 4 
            . 4 4 5 5 5 5 5 5 5 5 5 5 5 5 4 
            . . 4 5 5 2 2 2 2 2 2 5 5 5 5 4 
            . . 4 4 5 2 2 2 2 2 2 5 5 5 5 4 
            . . . 4 5 2 2 2 2 2 5 5 5 5 5 4 
            . . . 4 5 2 2 2 5 5 5 5 5 5 4 4 
            . . . 4 5 5 2 2 5 5 5 4 4 4 . . 
            . . . 4 4 5 2 2 5 5 4 4 . . . . 
            . . . . 4 5 2 5 4 4 . . . . . . 
            . . . . 4 5 2 5 4 . . . . . . . 
            . . . . 4 5 2 5 4 . . . . . . . 
            . . . . 4 5 2 5 5 4 . . . . . . 
            . . 4 4 4 5 2 5 5 4 . . . . . . 
            `],
        1000,
        false
        )
    } else if (false) {
    	
    } else if (false) {
    	
    } else {
    	
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
	
})
let numero = 0
let projectile: Sprite = null
let direçãotiro = 0
let mySprite2: Sprite = null
let mySprite: Sprite = null
mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . e e . . . . . . . . 
    . . . . . e e e e . . . . . . . 
    . . e . e e 5 5 e e . e . . . . 
    . . e e e e e e e e e e . . . . 
    . . . d d f d d f d d . . . . . 
    . . . d d f 2 2 f d d . . . . . 
    . . . d 2 2 2 2 2 2 d . . . . . 
    . . 8 2 2 2 2 2 2 2 2 8 . . . . 
    . . 8 8 8 8 8 8 8 8 8 8 . . . . 
    . . 8 . 8 8 8 8 8 8 . 8 . . . . 
    . . d . 8 8 8 8 8 8 . d . . . . 
    . . . . 8 8 . . 8 8 . . . . . . 
    . . . . 8 8 . . 8 8 . . . . . . 
    . . . f f f . . f f f . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
tiles.setCurrentTilemap(tilemap`level2`)
scene.cameraFollowSprite(mySprite)
tiles.placeOnRandomTile(mySprite, sprites.dungeon.doorOpenNorth)
controller.moveSprite(mySprite)
mySprite2 = sprites.create(img`
    ......fff.......
    ....fffffff.....
    .f.fff111ff...ff
    .fffff1f1ffffff.
    ..fffff1fffff...
    ....ff1f1fff....
    ...f22222222f...
    ...fdfdddfd22f..
    ...fd1fdf1df22f.
    ....fdddddf.ff..
    .....fdddf......
    ..ffff111ffff...
    .ff111111111ff..
    .f11111111111f..
    .fddf1111fdddf..
    .fddf1111fdddf..
    .fddf1111fdddf..
    .fddffffffdddf..
    ..fffeeeeffff...
    ....feeeeff.....
    ...ffeefeeff....
    ..ffeef.feeff...
    ..feeef.feef....
    ..feeef.ffef....
    ..fffff..fff....
    ffffff....ffff..
    ................
    ................
    ................
    ................
    ................
    ................
    `, SpriteKind.Enemy)
for (let index = 0; index < 4; index++) {
    tiles.placeOnRandomTile(mySprite2, sprites.castle.tileDarkGrass3)
}
mySprite2.setPosition(78, 27)
mySprite2.follow(mySprite)
info.setScore(0)
direçãotiro += 1
